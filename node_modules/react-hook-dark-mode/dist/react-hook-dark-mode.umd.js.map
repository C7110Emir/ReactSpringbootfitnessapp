{"version":3,"file":"react-hook-dark-mode.umd.js","sources":["../src/react-hook-dark-mode.tsx"],"sourcesContent":["import { useLayoutEffect, useState } from \"react\";\n\nconst globalAny:any = global;\n\nconst useIsDark = () => {\n  const [isDark, setIsDark] = useState(false);\n  useLayoutEffect(() => {\n    if (!globalAny.matchMedia) {\n      return () => {};\n    }\n    const media = globalAny.matchMedia(\"(prefers-color-scheme: dark)\");\n    if (media.matches) {\n      setIsDark(true);\n    }\n    if (media.addListener) {\n      const callback = (evt: any) => {\n        setIsDark(!!evt.matches);\n      };\n\n      media.addListener(callback);\n      if (media.removeListener) {\n        return () => media.removeListener(callback);\n      }\n    }\n    return () => {};\n  }, []);\n  return isDark;\n};\n\nexport default useIsDark;\n"],"names":["useLayoutEffect"],"mappings":";;;;;;EAEA,IAAM,SAAS,GAAO,MAAM,CAAC;EAE7B,IAAM,SAAS,GAAG;MACV,IAAA,0BAAqC,EAApC,cAAM,EAAE,iBAA4B,CAAC;MAC5CA,qBAAe,CAAC;UACd,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE;cACzB,OAAO,eAAQ,CAAC;WACjB;UACD,IAAM,KAAK,GAAG,SAAS,CAAC,UAAU,CAAC,8BAA8B,CAAC,CAAC;UACnE,IAAI,KAAK,CAAC,OAAO,EAAE;cACjB,SAAS,CAAC,IAAI,CAAC,CAAC;WACjB;UACD,IAAI,KAAK,CAAC,WAAW,EAAE;cACrB,IAAM,UAAQ,GAAG,UAAC,GAAQ;kBACxB,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;eAC1B,CAAC;cAEF,KAAK,CAAC,WAAW,CAAC,UAAQ,CAAC,CAAC;cAC5B,IAAI,KAAK,CAAC,cAAc,EAAE;kBACxB,OAAO,cAAM,OAAA,KAAK,CAAC,cAAc,CAAC,UAAQ,CAAC,GAAA,CAAC;eAC7C;WACF;UACD,OAAO,eAAQ,CAAC;OACjB,EAAE,EAAE,CAAC,CAAC;MACP,OAAO,MAAM,CAAC;EAChB,CAAC,CAAC;;;;;;;;"}